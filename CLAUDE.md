# CLAUDE.md - Bomb Test プロジェクト

## プロジェクト概要

このプロジェクトは爆弾解除をテーマにしたインタラクティブなゲームアプリケーションです。
- **フレームワーク**: React 19.1.0 + TypeScript 5.8.3
- **ビルドツール**: Vite 6.3.5
- **デプロイ**: GitHub Pages

## ゲームの流れ

1. **スタート画面** (`StartPage`): ゲーム開始
2. **メインゲーム** (`MainPage`): 
   - 4つの質問に答える
   - 制限時間内に正解する
   - ワイヤーを操作して爆弾を解除
3. **結果**: 成功/失敗でツイート共有が可能

## 主要機能

### 1. Display (ディスプレイ機能)
- 質問、入力、ステータス、サークル表示
- カタカナ変換機能

### 2. Game (ゲームコア機能)
- 8つの状態管理フック
- 4つの質問データ
- ローカルストレージでの進行状況保存

### 3. Interactive Wires (ワイヤー操作)
- 3本のワイヤーをクリックして操作
- 正しい順序でワイヤーを切断

### 4. Keyboard (キーボード入力)
- カタカナ入力グリッド
- アクションキー（決定、削除、スキップ）
- キーボード取り外し機能

### 5. Timer (タイマー)
- 5分のカウントダウンタイマー
- カーソル点滅エフェクト

### 6. Wire Decoration (装飾ワイヤー)
- 背景の装飾的なワイヤー表示

## 開発コマンド

```bash
npm run dev      # 開発サーバー起動
npm run build    # ビルド
npm run lint     # ESLint実行
npm run preview  # ビルドプレビュー
npm run deploy   # GitHub Pagesへデプロイ
```

## 不要コードの調査結果（2025-07-17）

### 1. 未使用のエクスポート
- `BasicWireProps` (wire-decoration/index.ts) - 外部で未使用
- 内部のみ使用のコンポーネント多数（KeyboardButton、GameWire等）

### 2. 重複コードの検出
- **状態管理パターン**: 複数フックで同じGameStorageアクセスパターン
- **レスポンシブシステム**: 複数スタイルファイルで同じimportパターン
- **レンダラー処理**: フォントレンダリングの重複処理
- **ボタンスタイル**: キーボードボタンとアクションボタンの類似パターン

### 3. デッドコードの発見
- **即座に削除可能**:
  - `useGameState.ts:42-44` - `failGame`関数（未使用）
  - `font.types.ts:2` - `SmallKana`型（未使用）
- **慎重に削除可能**:
  - 10ファイルで不要な`React`インポート

### 4. TODO項目
- `TweetButton.tsx:26` - 実際のゲームURLへの置き換えが必要

### 5. 推奨事項
1. **即座に対応**:
   - 未使用関数・型の削除
   - 不要なReactインポートの除去
2. **リファクタリング**:
   - 状態管理パターンの共通化
   - フォントレンダリング処理の抽象化
   - ボタンスタイルの統一化
3. **エクスポート整理**:
   - 内部コンポーネントのエクスポート見直し
   - 外部未使用の型定義削除

## プロジェクト構造

詳細な構造は `.claude/PROJECT_STRUCTURE.md` を参照してください。

## 注意事項

- このプロジェクトはゲームアプリケーションであり、セキュリティ上の問題はありません
- ローカルストレージを使用してゲーム進行状況を保存しています
- レスポンシブデザインに対応（モバイル/デスクトップ）